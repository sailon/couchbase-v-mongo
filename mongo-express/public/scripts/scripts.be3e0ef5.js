"use strict";angular.module("uiApp",["services.config","ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-bind-html-compile","restangular","angular-loading-bar"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main",resolve:{posts:["PostDAO",function(a){return a.find()}],facets:["PostDAO",function(a){return a.facets()}]}}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl",controllerAs:"contact"}).otherwise({redirectTo:"/"})}]).run(["Restangular","configuration",function(a,b){console.dir(b.apiUrl),a.setBaseUrl(b.apiUrl)}]),angular.module("uiApp").controller("MainCtrl",["$scope","posts","facets","PostDAO",function(a,b,c,d){function e(){d.find(50,1,h.join(",")||"").then(function(a){g.posts=a})}function f(){d.facets(g.facetSize,h.join(",")).then(function(a){g.facets=a})}var g=this,h=[];g.facetSize=10,g.posts=b,g.facets=c,g.toggleFacet=function(a){var b=_.indexOf(h,a);b>-1?_.pullAt(h,b):h.push(a),e(),f()},g.isSelected=function(a){return h.indexOf(a)>-1},g.showMore=function(){g.facetSize+=20,f()},g.showLess=function(){g.facetSize-=20,f()}}]),angular.module("uiApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("uiApp").filter("cvmJoin",function(){return function(a){return a.join(", ")}}),angular.module("uiApp").filter("cvmDate",function(){return function(a){var b=a.split("T")[0];return new Date(b).toLocaleDateString("us-en")}}),angular.module("uiApp").filter("cvmCsv",function(){return function(a){return a.replace(/,/g,", ")}}),angular.module("services.config",[]).constant("configuration",{apiUrl:"http://mongodb.vagrant:3000/api"}),angular.module("uiApp").service("PostDAO",["Restangular",function(a){var b={};return b.find=function(b,c,d){var e={size:b||25,page:c||1,tag:d};return a.all("posts").getList(e)},b.facets=function(b,c){var d={size:b||10,tag:c};return a.all("posts").all("facets").getList(d)},b}]),angular.module("uiApp").filter("cvmCaps",function(){return function(a){return _.capitalize(a)}}),angular.module("uiApp").controller("NavController",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("uiApp").controller("ContactCtrl",["$scope",function(a){a.offices=[{name:"Plano Office",address1:"5600 Tennyson Parkway, Ste 230",address2:"Plano, TX 75024 ",phone:"(469) 424-3449",fax:"(303) 379-5944"},{name:"Washington, DC Office",address1:"527 Maple Avenue East, Ste 200",address2:"Vienna, VA 22180 ",phone:"(703) 635-3302",fax:"(845) 367-5496"},{name:"Austin Office",address1:"1603 W 6th Street",address2:"Austin, TX 78703 ",phone:"(469) 424-3449",fax:"(303) 379-5944"},{name:"Chicago Office",address1:"30 W. Hubbard",address2:"Suite 400Chicago, IL 60654",phone:"(312) 248-7501 ",fax:"(303) 379-5944"},{name:"Boulder Office",address1:"1216 Pearl St. Unit 200",address2:"Boulder, CO 80302 ",phone:"(720) 583-1713",fax:"(303) 379-5944"}]}]),angular.module("uiApp").run(["$templateCache",function(a){a.put("views/about.html",'<div class="col-sm-8 col-sm-offset-2"> <h1>About the App</h1> <p class="cvm-justify-text">This app is a simple demonstrator to showcase the differences between a basic implementation of Couchbase and MongoDB.</p> <h1>About Avalon Consulting, LLC</h1> <p class="cvm-justify-text">Avalon Consulting, LLC transforms data investments into actionable business results through the visioning and implementation of Big Data, Web Presence, Content Publishing, and Enterprise Search solutions. We are the trusted partner to over one hundred clients, primarily Global 2000 companies, public agencies, and institutions of higher learning.</p> <p>Avalon is known for providing clients a superior engagement experience through a combination of business acumen, intellectual curiosity, collaborative work style, and strong partnerships with award-winning vendors. Avalon\'s deep technical expertise mitigates project risk and reduces total cost of ownership for our clients.</p> <p>Headquartered in Plano, Texas, Avalon also maintains offices in Austin, TX; Boulder, CO; Chicago, IL; St. Louis, MO; and Washington, D.C.</p> </div>'),a.put("views/contact.html",'<div class=""> <h1 class="text-center">Avalon Consulting, LLC Office Locations</h1> <div class="cvm-office col-sm-5 col-sm-offset-1" ng-repeat="office in offices"> <h2>{{::office.name}}</h2> <p>{{::office.address1}}</p> <p>{{::office.address2}}</p> <p><a href="tel:{{office.phone}}"><span class="cvm-phone">Phone: </span>{{::office.phone}}</a></p> <p><a href="tel:{{office.fax}}"><span class="cvm-fax">Phone: </span>{{::office.fax}}</a></p> </div> </div>'),a.put("views/main.html",'<div class="row"> <!-- Facets --> <aside class="left-side"> <h3>Tags</h3> <ul class="cvm-facets" ng-repeat="facet in main.facets"> <li class="cvm-facet"><a ng-click="main.toggleFacet(facet._id)" ng-class="{\'cvm-selected\': main.isSelected(facet._id)}">{{::facet._id}} ({{::facet.count}})</a></li> </ul> <a class="btn btn-default btn-xs" ng-click="main.showMore()">Show more...</a> <a ng-show="main.facetSize > 10" class="btn btn-default btn-xs" ng-click="main.showLess()">Show less...</a> </aside> <!-- Resutls --> <div class="right-side cvm-posts" ng-repeat="post in main.posts"> <div class="cvm-post"> <h2>{{::post.title}}</h2> <p> <span>by </span><span class="cvm-author">{{::post.author | cvmCsv}}</span> <span class="cvm-date">{{::post.date | cvmDate}}</span> </p> <p class="cvm-tags"> <span class="cvm-tag label label-info" ng-repeat="tag in post.categories" ng-click="main.toggleFacet(tag)" ng-class="{\'cvm-selected\': main.isSelected(tag)}">{{tag | cvmCaps}}</span> </p> <div bind-html-compile="::post.description"> </div> </div> </div> ')}]);